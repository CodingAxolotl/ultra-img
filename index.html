<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gradio SDXL-Turbo App</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        #status { margin-bottom: 20px; color: #555; }
        img { max-width: 100%; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    </style>

    <!-- Import Gradio Client from the official CDN link -->
    <script type="module">
        import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

        async function generateOnLoad() {
            const status = document.getElementById("status");
            const container = document.getElementById("result-container");

            try {
                status.innerText = "Connecting to API and fetching base image...";

                // 1. Fetch the example image
                const response_0 = await fetch("https://raw.githubusercontent.com");
                const exampleImage = await response_0.blob();
                
                // 2. Connect to the Gradio Space
                const client = await Client.connect("diffusers/unofficial-SDXL-Turbo-i2i-t2i");
                
                status.innerText = "Generating image... please wait.";

                // 3. Run prediction
                const result = await client.predict("/predict", { 
                    init_image: exampleImage, 		
                    prompt: "Hello!!", 		
                    strength: 0, 		
                    steps: 1, 		
                    seed: 0, 
                });

                // 4. Show the result
                // result.data[0].url contains the link to the generated image file
                const imageUrl = result.data[0].url;
                const imgElement = document.createElement("img");
                imgElement.src = imageUrl;
                
                container.appendChild(imgElement);
                status.innerText = "Generation complete!";

            } catch (error) {
                console.error(error);
                status.innerText = "Error: " + error.message;
            }
        }

        // Run automatically when the script loads
        generateOnLoad();
    </script>
</head>
<body>
    <h1>SDXL-Turbo Image Generator</h1>
    <p id="status">Initializing...</p>
    <div id="result-container"></div>
</body>
</html>
